(this.webpackJsonpbank=this.webpackJsonpbank||[]).push([[0],{19:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAlCAYAAAAeJYohAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMvSURBVHgB5ZlfUtpQFMa/cwWmD9jBFZQdiA+dUXwwXYG4AmNdQO0KhBVUV2C6guIKpC/qTB90B9IVwFQcHcGcnpNECuWGAtPOXNPfS0jOTciXc/+dc4D/DJqlUcf3Skt4qC0Zs8UMTy6Viyfn1PHXy3kyN3LeBfgajNM+uLkSXLYxI8xcksOBxXRNRE0sgDzTk4NnMR1NFaxCC+bxg4jUFyqN2n4TPA4h6IdhYxbh8nJlOdxYTIEI3sMCyDPrcji0mMom7aaO/7ZSoMcrEas3lzDXP8KXD3HV8zcO4BhWwff7m7t5yp+xfBEsTglEn3p+1YdDTAhWzz6FHCDFqxyP11Z89qpLxDrO2ra2IfPnPgoLjcN/RW70RMdkgcwXtjSMhDKOBygcrQStrl5Ljjv6+4e/UTPiUSS9QobC8evgwrkuPSY4b8yhvGjZ0q494PDdtElIxDVlkmvl6fFMnnG6HJzX4SBDwepdnWwsbdr9P4h9JvH4GhxmOIbVu9YWjMY866rrRIKnebcYnAfIEJHgvH1XojPPMTJGJJiN2babBy1kjEgwMZUttm4x+HaNjJFMWlyZNHHmxCqm41crNoN4vY0MksshLNm21CHwHQ4gkY86pDLnbatphhzcpwZ7qLcQqeEhpQQELx2TbuL5YuAXQmqXZpArglPDzynovqJmM+QG8rC8xSCufwMHkDSPLo9zLZFJ2sgq2GgQbzOE4BVkEJOEdO0JA9EqMki8l6bJLqP5LN6vOtGt/ybxXjrkrzbj3RPvIGNEgjV5brUStpExIsFxRuM5EzkKebf+uocMMdx4yFTesDYgc6IVCGSEoeDl4LJl87JOXpqJnFX03fvq4f3e5i4cZWxr2WfWWo5tXY7KLlHuKwW19fY2NEVbfwIHKhwOMiY4GsspXTv2tLlRUbd+ta7X1Ov6W6/FRTXyhu1FuIuiJ4KHYnBxJC/bSL+FPKLncO2hFP/+JXQUFe18bUmJqgbMH2Hv3jOjH861NG9qeKielorDmhbEMDfcYqlWuFhumZrxSCoOvkxI9RzMgXTfLaSnW9paU5KwoxnP+BniPpmtddLqSXn1Ja3TPwE4y0qYnfQf8wAAAABJRU5ErkJggg=="},30:function(e,t,a){e.exports=a(50)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(28),r=a.n(c),s=a(7),o=(a(35),a(5)),u=a(3),i=(a(36),a(37),a(38),a(39),a(40),a(41),a(19)),m=a.n(i),b=a(10),E=a(2),f=a(12),p=a(13),d=a(9),h=a(16),g=a.n(h),v=a(22),N=new Date,O=N.getDate(),j=N.getMonth()+1,A=N.getFullYear();O<10&&(O="0".concat(O)),j<10&&(j="0".concat(j));var w="".concat(O,"/").concat(j,"/").concat(A),U=function(){var e=Object(v.a)(g.a.mark((function e(t,a,n){var l,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=Object(E.a)(Object(E.a)({},t),{},{balance:100,savingsBal:0,loansBal:0,transactions:[],savingTran:[],loansTran:[]}),e.next=3,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)};case 3:return c=e.sent,e.next=6,fetch("http://localhost:8080/users",c).then((function(e){return e.ok?e.json():console.log("Oops we couldn't update that!")})).then((function(e){return n([].concat(Object(b.a)(a),[l]))})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)},e.next=3,fetch("http://localhost:8080/users/".concat(t.id),n).then((function(e){return e.ok?e.json():console.log("Oops we couldn't update that!")})).then((function(e){return a(t)})).catch((function(e){return console.log(e,n)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),B=function(e){var t=e.user,a=e.setUser,c=e.allUsers,r=void 0===c?[]:c,s=e.setAllUsers,i=e.btnName,m=Object(n.useState)({}),b=Object(o.a)(m,2),f=b[0],p=b[1],h=Object(u.f)(),g=function(e){console.log(f);var t=e.target.name,a=e.target.value;p(Object(E.a)(Object(E.a)({},f),{},Object(d.a)({id:parseInt(r.length)+1},t,a)))},v=function(e,n){e.preventDefault();var l=Object.values(f);if(l.length<6||l.some((function(e){return""===e})))window.alert("You left some fields blank please try again");else if(f.pword!==f.pwordmatch)window.alert("You passwords do not match please try again");else if(6===l.length&&l.every((function(e){return""!==e}))){var c=r.find((function(e){return e.email.toLowerCase()===f.email.toLowerCase()}));"Save"===n?function(e){var n=Object(E.a)(Object(E.a)({},t),{},{id:e.id,firstName:f.firstName,lastName:f.lastName,pword:e.pword});k(n,a),window.alert("User updated, thanks ".concat(f.firstName," ").concat(f.lastName))}(c):function(e){if(e)window.alert("Email entered is currently in use, please re-enter and try again");else{var t=Object.fromEntries(Object.entries(f).slice(0,5));U(t,r,s),h.push("/bank")}}(c)}};return l.a.createElement("form",{className:"form"},l.a.createElement("label",{htmlFor:"firstName"},"First name"),l.a.createElement("input",{type:"text",name:"firstName",required:!0,onChange:function(e){return g(e)}}),l.a.createElement("label",{htmlFor:"lastName"},"Last name"),l.a.createElement("input",{type:"text",name:"lastName",required:!0,onChange:function(e){return g(e)}}),l.a.createElement("label",{htmlFor:"email"},"Save"===i?"Email (for user varification only)":"Email"),l.a.createElement("input",{type:"email",name:"email",required:!0,onChange:function(e){return g(e)}}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",name:"pword",required:!0,onChange:function(e){return g(e)}}),l.a.createElement("label",{htmlFor:"password"},"Confirm Password"),l.a.createElement("input",{type:"password",name:"pwordmatch",required:!0,onChange:function(e){return g(e)}}),l.a.createElement("button",{id:"su-login",onClick:function(e){return v(e,i)}},i))},y=function(e){var t=e.setMenu,a=e.user,c=e.setUser,r=e.allUsers,s=e.setAllUsers,u=e.blockBtns,i=e.setBlockBtns,m=Object(n.useState)(!1),d=Object(o.a)(m,2),h=d[0],g=d[1];Object(n.useEffect)((function(){a.balance%1===0?g(!0):g(!1)}),[a]);return l.a.createElement("div",{className:"settings"},l.a.createElement("div",{className:"settingsTitle"},l.a.createElement("button",{onClick:function(){return t(!1)}},l.a.createElement(f.a,{icon:p.a})),l.a.createElement("h1",null,"Settings")),l.a.createElement("div",{className:"block"},l.a.createElement("h3",null,"Block account"),l.a.createElement("label",{className:"switch"},l.a.createElement("input",{type:"checkbox",onChange:function(){return i(!u)}}),l.a.createElement("span",{className:"slider"}))),l.a.createElement("div",{className:"rounds"},l.a.createElement("h3",null,"Round up wallet into Savings"),l.a.createElement("label",{className:"switch"},l.a.createElement("input",{type:"checkbox",onChange:function(){return function(){var e=+(a.balance%1).toFixed(2);e>0&&k(Object(E.a)(Object(E.a)({},a),{},{balance:a.balance-=e,savingsBal:a.savingsBal+=e,transactions:[].concat(Object(b.a)(a.transactions),[{transName:"savings",minus:e,date:w}]),savingsTran:[].concat(Object(b.a)(a.savingsTran),[{transName:"savings",plus:e,date:w}])}),c)}()},checked:h}),l.a.createElement("span",{className:"slider round",disabled:h}))),l.a.createElement("h4",null,"User"),l.a.createElement(B,{user:a,setUser:c,allUsers:r,setAllUsers:s,btnName:"Save"}))},C=function(e){var t,a=e.user,c=e.setUser,r=e.blockBtns,u=e.setBlockBtns,i=e.allUsers,b=e.setAllUsers,E=Object(n.useState)(!1),f=Object(o.a)(E,2),p=f[0],d=f[1];return p&&(t=l.a.createElement(y,{setMenu:d,user:a,setUser:c,blockBtns:r,setBlockBtns:u,allUsers:i,setAllUsers:b,onClick:function(){return d(!0)}})),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement("img",{src:m.a,alt:"CH",className:"ch"})),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(s.b,{to:"/wallet"},"WALLET")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/savings"},"SAVINGS")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/loans"},"LOANS")),l.a.createElement("li",null,l.a.createElement("button",{onClick:function(){return d(!p)}},"SETTINGS")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/bank"},"SIGN OUT")))),t)},S=function(){return l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement("img",{src:m.a,alt:"CH",className:"ch"})),l.a.createElement("div",{className:"txt"},l.a.createElement("p",null,"LOGIN / SIGN UP")))},x=function(e){var t=e.setUser,a=e.user,c=e.allUsers,r=Object(u.f)(),i=Object(n.useState)(""),m=Object(o.a)(i,2),b=m[0],E=m[1],f=Object(n.useState)(""),p=Object(o.a)(f,2),d=p[0],h=p[1];Object(n.useEffect)((function(){var e=c.find((function(e){return e.email===b}));e&&t(e)}),[b,c]);return l.a.createElement("div",{className:"login"},l.a.createElement("section",null,l.a.createElement("p",null,"Login")),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.email===b.toLowerCase()&&a.pword===d?r.push("/wallet"):window.alert("Incorrect details - please try again!")}},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",name:"email",onChange:function(e){return E(e.target.value)}}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",name:"password",onChange:function(e){return h(e.target.value)}}),l.a.createElement("button",null,"Login"),l.a.createElement("span",{className:"signup"},l.a.createElement(s.b,{to:"/signup"},"Sign up"))))},F=function(e){var t=e.user,a=e.setUser,n=e.allUsers,c=Object(u.f)();return l.a.createElement("div",{className:"login"},l.a.createElement("section",null,l.a.createElement("button",{onClick:function(){return c.push("/bank")}},l.a.createElement(f.a,{icon:p.a})),l.a.createElement("p",null,"Sign up")),l.a.createElement(B,{setUser:a,user:t,allUsers:n,btnName:"Sign Up"}))},T=function(e){var t=e.transactions,a=e.name;return l.a.createElement("div",{className:"transactions"},l.a.createElement("header",null,l.a.createElement("h2",null,"Transactions"),l.a.createElement("h2",null,"Amount")),l.a.createElement("main",null,t&&t.map((function(e,t){return l.a.createElement("div",{className:"transaction",key:t},l.a.createElement("p",{className:"today"},e.date),l.a.createElement("h5",{className:"companyname"},function(e){switch(a){case"loans":return e.minus?"Loan taken - Wallet Credited":"Thanks for payment";case"savings":return e.minus?"Debit to Wallet":"Deposit from Wallet";default:return e.transName.charAt(0).toUpperCase()+e.transName.slice(1)}}(e)),l.a.createElement("div",{className:"paymentinfo"},function(e){return e.plus?l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{icon:p.c,className:"added"}),l.a.createElement("h5",null,"\xa3",e.plus.toFixed(2))):l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{icon:p.b,className:"minus"}),l.a.createElement("h5",null,"\xa3",e.minus.toFixed(2)))}(e)))}))))},L=function(e){var t,a=e.user,n=0,c=0;if(void 0!==a.balance){var r=((t=Number(a.balance))-(n=Math.trunc(t))).toFixed(2);c=r.slice(r.length-2)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"account"},l.a.createElement("div",null,l.a.createElement("aside",{className:"acc_wallet"},l.a.createElement("h3",{className:"acc_total"},"Balance"),l.a.createElement("span",{className:"acc_balance"},l.a.createElement("h1",{className:"acc_pounds"},n,"."),l.a.createElement("h3",{className:"acc_pence"},c))),l.a.createElement("aside",null,l.a.createElement("h4",null,w),l.a.createElement("h1",null,"Account holder:"),l.a.createElement("h3",null,a.firstName," ",a.lastName)))),a.transactions&&l.a.createElement(T,{transactions:a.transactions,name:"wallet"}))},P=function(e){var t=e.name,a=e.details,c=e.user,r=e.setDetails,s=e.setUser,u=e.bal,i=e.transactions,m=e.blockBtns,f=Object(n.useState)(0),p=Object(o.a)(f,2),h=p[0],g=p[1],v=Object(n.useState)(""),N=Object(o.a)(v,2),O=N[0],j=N[1];Object(n.useEffect)((function(){setTimeout((function(){j("")}),5e3)}),[O]);var A=function(){var e;k(Object(E.a)(Object(E.a)({},c),{},(e={balance:c.balance-h},Object(d.a)(e,"".concat(t,"Bal"),u+h),Object(d.a)(e,"transactions",[].concat(Object(b.a)(c.transactions),[{transName:t,minus:h,date:w}])),Object(d.a)(e,"".concat(t,"Tran"),[].concat(Object(b.a)(i),[{transName:t,plus:h,date:w}])),e)),s)},U=function(){var e;k(Object(E.a)(Object(E.a)({},c),{},(e={balance:c.balance+h},Object(d.a)(e,"".concat(t,"Bal"),u-h),Object(d.a)(e,"transactions",[].concat(Object(b.a)(c.transactions),[{transName:t,plus:h,date:w}])),Object(d.a)(e,"".concat(t,"Tran"),[].concat(Object(b.a)(i),[{transName:t,minus:h,date:w}])),e)),s)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"toggle"},l.a.createElement("section",null,l.a.createElement("p",null,"\xa3"),l.a.createElement("input",{type:"number",min:0,step:.1,onChange:function(e){return g(+parseFloat(e.target.value).toFixed(2))}})),l.a.createElement("button",{className:"transfer",disabled:m,onClick:function(e){return function(e){console.log(a.type),e.preventDefault(),h>0?("savings"===t&&"out"===a.type?c.savingsBal-h<0?j("Not enough money in savings!"):U():"savings"===t&&"in"===a.type?A():"loans"===t&&"out"===a.type?U():"loans"===t&&"in"===a.type&&(c.loansBal+h>0?j("Amount exceeds loan value!"):A()),""!==O&&r(Object(E.a)(Object(E.a)({},a),{},{state:!1}))):j("Please enter a number above 0")}(e)}},"Transfer")),l.a.createElement("h3",{className:"err"},O))},M=function(e){var t=e.divColour,a=e.user,c=e.setUser,r=e.balance,s=e.transactions,u=e.btn1,i=e.btn2,m=e.blockBtns,b=Object(n.useState)({state:!1,type:""}),f=Object(o.a)(b,2),p=f[0],d=f[1];return Object(n.useEffect)((function(){var e;void 0===(e=r)||parseFloat(e).toFixed(2)}),[r]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"account"},l.a.createElement("div",null,l.a.createElement("aside",{className:t},l.a.createElement("h3",{className:"acc_total"},"Balance"),l.a.createElement("span",{className:"acc_balance"},l.a.createElement("h1",{className:"acc_pounds"},r))),l.a.createElement("aside",null,l.a.createElement("button",{className:u,disabled:m,onClick:function(){return d(Object(E.a)(Object(E.a)({},p),{},{state:!p.state,type:"in"}))}},u),l.a.createElement("button",{className:i,disabled:m,onClick:function(){return d(Object(E.a)(Object(E.a)({},p),{},{state:!p.state,type:"out"}))}},i))),p.state&&l.a.createElement(P,{name:t,details:p,user:a,setDetails:d,setUser:c,bal:r,transactions:s,blockBtns:m})),l.a.createElement(T,{transactions:s,name:t}))},D=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(o.a)(r,2),i=s[0],m=s[1],b=Object(n.useState)(!1),E=Object(o.a)(b,2),f=E[0],p=E[1];return Object(n.useEffect)((function(){fetch("http://localhost:8080/users").then((function(e){return e.json()})).then((function(e){return m(e)})).catch((function(e){return console.log(e)}))}),[a]),l.a.createElement("div",{className:"App"},l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/bank"},l.a.createElement(S,null),l.a.createElement(x,{setUser:c,user:a,allUsers:i})),l.a.createElement(u.a,{path:"/signup"},l.a.createElement(S,null),l.a.createElement(F,{user:a,setUser:c,allUsers:i})),l.a.createElement(u.a,{path:"/wallet"},l.a.createElement(C,{user:a,setUser:c,blockBtns:f,setBlockBtns:p,allUsers:i,setAllUsers:m}),l.a.createElement(L,{user:a})),l.a.createElement(u.a,{path:"/savings"},l.a.createElement(C,{user:a,setUser:c,blockBtns:f,setBlockBtns:p,allUsers:i,setAllUsers:m}),l.a.createElement(M,{divColour:"savings",user:a,setUser:c,balance:a.savingsBal,transactions:a.savingsTran,btn1:"PAY IN",btn2:"PAY OUT",blockBtns:f})),l.a.createElement(u.a,{path:"/loans"},l.a.createElement(C,{user:a,setUser:c,blockBtns:f,setBlockBtns:p,allUsers:i,setAllUsers:m}),l.a.createElement(M,{divColour:"loans",user:a,setUser:c,balance:a.loansBal,transactions:a.loansTran,btn1:"PAY BACK",btn2:"TAKE LOAN",blockBtns:f}))))};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,null,l.a.createElement(D,null))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.0cd71a9b.chunk.js.map