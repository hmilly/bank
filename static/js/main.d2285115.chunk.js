(this.webpackJsonpbank=this.webpackJsonpbank||[]).push([[0],{19:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAlCAYAAAAeJYohAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMvSURBVHgB5ZlfUtpQFMa/cwWmD9jBFZQdiA+dUXwwXYG4AmNdQO0KhBVUV2C6guIKpC/qTB90B9IVwFQcHcGcnpNECuWGAtPOXNPfS0jOTciXc/+dc4D/DJqlUcf3Skt4qC0Zs8UMTy6Viyfn1PHXy3kyN3LeBfgajNM+uLkSXLYxI8xcksOBxXRNRE0sgDzTk4NnMR1NFaxCC+bxg4jUFyqN2n4TPA4h6IdhYxbh8nJlOdxYTIEI3sMCyDPrcji0mMom7aaO/7ZSoMcrEas3lzDXP8KXD3HV8zcO4BhWwff7m7t5yp+xfBEsTglEn3p+1YdDTAhWzz6FHCDFqxyP11Z89qpLxDrO2ra2IfPnPgoLjcN/RW70RMdkgcwXtjSMhDKOBygcrQStrl5Ljjv6+4e/UTPiUSS9QobC8evgwrkuPSY4b8yhvGjZ0q494PDdtElIxDVlkmvl6fFMnnG6HJzX4SBDwepdnWwsbdr9P4h9JvH4GhxmOIbVu9YWjMY866rrRIKnebcYnAfIEJHgvH1XojPPMTJGJJiN2babBy1kjEgwMZUttm4x+HaNjJFMWlyZNHHmxCqm41crNoN4vY0MksshLNm21CHwHQ4gkY86pDLnbatphhzcpwZ7qLcQqeEhpQQELx2TbuL5YuAXQmqXZpArglPDzynovqJmM+QG8rC8xSCufwMHkDSPLo9zLZFJ2sgq2GgQbzOE4BVkEJOEdO0JA9EqMki8l6bJLqP5LN6vOtGt/ybxXjrkrzbj3RPvIGNEgjV5brUStpExIsFxRuM5EzkKebf+uocMMdx4yFTesDYgc6IVCGSEoeDl4LJl87JOXpqJnFX03fvq4f3e5i4cZWxr2WfWWo5tXY7KLlHuKwW19fY2NEVbfwIHKhwOMiY4GsspXTv2tLlRUbd+ta7X1Ov6W6/FRTXyhu1FuIuiJ4KHYnBxJC/bSL+FPKLncO2hFP/+JXQUFe18bUmJqgbMH2Hv3jOjH861NG9qeKielorDmhbEMDfcYqlWuFhumZrxSCoOvkxI9RzMgXTfLaSnW9paU5KwoxnP+BniPpmtddLqSXn1Ja3TPwE4y0qYnfQf8wAAAABJRU5ErkJggg=="},30:function(e,a,t){e.exports=t(47)},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},44:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(28),r=t.n(c),s=t(7),o=(t(35),t(5)),i=t(3),u=(t(36),t(37),t(19)),m=t.n(u),b=t(10),E=t(2),p=t(12),d=t(13),f=t(9),g=t(16),h=t.n(g),v=t(22),N=new Date,O=N.getDate(),j=N.getMonth()+1,A=N.getFullYear();O<10&&(O="0".concat(O)),j<10&&(j="0".concat(j));var w="".concat(O,"/").concat(j,"/").concat(A),k=function(){var e=Object(v.a)(h.a.mark((function e(a,t,n){var l,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=Object(E.a)(Object(E.a)({},a),{},{balance:100,savingsBal:0,loansBal:0,transactions:[],savingTran:[],loansTran:[]}),e.next=3,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)};case 3:return c=e.sent,e.next=6,fetch("http://localhost:8080/users",c).then((function(e){return e.ok?e.json():console.log("Oops we couldn't update that!")})).then((function(e){return n([].concat(Object(b.a)(t),[l]))})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(v.a)(h.a.mark((function e(a){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)},e.next=3,fetch("http://localhost:8080/users/".concat(a.id),t).then((function(e){return e.ok?e.json():console.log("Oops we couldn't update that!")})).catch((function(e){return console.log(e,t)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),B=(t(44),function(e){var a=e.user,t=e.setUser,c=e.allUsers,r=void 0===c?[]:c,s=e.setAllUsers,u=e.btnName,m=Object(n.useState)({}),b=Object(o.a)(m,2),p=b[0],d=b[1],g=Object(i.f)(),h=function(e){console.log(p);var a=e.target.name,t=e.target.value;d(Object(E.a)(Object(E.a)({},p),{},Object(f.a)({id:parseInt(r.length)+1},a,t)))},v=function(e,n){e.preventDefault();var l=Object.values(p);if(l.length<6||l.some((function(e){return""===e})))window.alert("You left some fields blank please try again");else if(p.pword!==p.pwordmatch)window.alert("You passwords do not match please try again");else if(6===l.length&&l.every((function(e){return""!==e}))){var c=r.find((function(e){return e.email.toLowerCase()===p.email.toLowerCase()}));"Save"===n?function(e){void 0===e?window.alert("Thanks ".concat(p.firstName,", for trying this website")):(t(Object(E.a)(Object(E.a)({},a),{},{id:e.id,firstName:p.firstName,lastName:p.lastName,pword:e.pword})),U(a),window.alert("User updated, thanks ".concat(p.firstName," ").concat(p.lastName)))}(c):function(e){if(void 0===e)window.alert("Hello ".concat(p.firstName,", please go back and login"));else if(e)window.alert("Email entered is currently in use, please re-enter and try again");else{var a=Object.fromEntries(Object.entries(p).slice(0,5));k(a,r,s),g.push("/bank")}}(c)}};return l.a.createElement("form",{className:"details"},l.a.createElement("label",{htmlFor:"firstName"},"First name"),l.a.createElement("input",{type:"text",name:"firstName",required:!0,onChange:function(e){return h(e)}}),l.a.createElement("label",{htmlFor:"lastName"},"Last name"),l.a.createElement("input",{type:"text",name:"lastName",required:!0,onChange:function(e){return h(e)}}),l.a.createElement("label",{htmlFor:"email"},"Save"===u?"Email (for user varification only)":"Email"),l.a.createElement("input",{type:"email",name:"email",required:!0,onChange:function(e){return h(e)}}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",name:"pword",required:!0,onChange:function(e){return h(e)}}),l.a.createElement("label",{htmlFor:"password"},"Confirm Password"),l.a.createElement("input",{type:"password",name:"pwordmatch",required:!0,onChange:function(e){return h(e)}}),l.a.createElement("button",{className:"su-login",onClick:function(e){return v(e,u)}},u))}),y=function(e){var a=e.setMenu,t=e.user,c=e.setUser,r=e.allUsers,s=e.setAllUsers,i=e.blockBtns,u=e.setBlockBtns,m=Object(n.useState)(!1),f=Object(o.a)(m,2),g=f[0],h=f[1];Object(n.useEffect)((function(){t.balance%1===0?h(!0):h(!1)}),[t]);return l.a.createElement("aside",{className:"settings"},l.a.createElement("div",{className:"title"},l.a.createElement("button",{onClick:function(){return a(!1)}},l.a.createElement(p.a,{icon:d.a})),l.a.createElement("h2",null,"Settings")),l.a.createElement("div",{className:"block"},l.a.createElement("p",null,"Block account"),l.a.createElement("label",{className:"switch"},l.a.createElement("input",{type:"checkbox",onChange:function(){return u(!i)}}),l.a.createElement("span",{className:"slider"}))),l.a.createElement("div",{className:"rounds"},l.a.createElement("p",null,"Round up wallet into Savings"),l.a.createElement("label",{className:"switch"},l.a.createElement("input",{type:"checkbox",onChange:function(){return function(){var e=+(t.balance%1).toFixed(2);e>0&&(c(Object(E.a)(Object(E.a)({},t),{},{balance:t.balance-=e,savingsBal:t.savingsBal+=e,transactions:[].concat(Object(b.a)(t.transactions),[{transName:"savings",minus:e,date:w}]),savingsTran:[].concat(Object(b.a)(t.savingsTran),[{transName:"savings",plus:e,date:w}])})),U(t))}()},checked:g}),l.a.createElement("span",{className:"slider round",disabled:g}))),l.a.createElement("h3",null,"User"),l.a.createElement(B,{user:t,setUser:c,allUsers:r,setAllUsers:s,btnName:"Save"}))},S=function(e){var a,t=e.user,c=e.setUser,r=e.blockBtns,i=e.setBlockBtns,u=e.allUsers,b=e.setAllUsers,E=Object(n.useState)(!1),p=Object(o.a)(E,2),d=p[0],f=p[1];return d&&(a=l.a.createElement(y,{setMenu:f,user:t,setUser:c,blockBtns:r,setBlockBtns:i,allUsers:u,setAllUsers:b,onClick:function(){return f(!0)}})),l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"main"},l.a.createElement("div",null,l.a.createElement("img",{src:m.a,alt:"CH",className:"ch"})),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(s.b,{to:"/wallet"},"WALLET")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/savings"},"SAVINGS")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/loans"},"LOANS")),l.a.createElement("li",null,l.a.createElement("button",{onClick:function(){return f(!d)}},"SETTINGS")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/bank"},"SIGN OUT")))),a)},C=function(){return l.a.createElement("header",{className:"main"},l.a.createElement("div",null,l.a.createElement("img",{src:m.a,alt:"CH",className:"ch"})),l.a.createElement("span",null,l.a.createElement("p",null,"LOGIN / SIGN UP")))},x=function(e){var a=e.setUser,t=e.user,c=e.allUsers,r=Object(i.f)(),u=Object(n.useState)("user@gmail.com"),m=Object(o.a)(u,2),b=m[0],E=m[1],p=Object(n.useState)(""),d=Object(o.a)(p,2),f=d[0],g=d[1];Object(n.useEffect)((function(){var e=c.find((function(e){return e.email===b}));e&&a(e)}),[b,c]);return l.a.createElement("main",{className:"login"},l.a.createElement("section",null,l.a.createElement("p",null),l.a.createElement("p",null,"Login")),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),"user@gmail.com"===b||t.email===b.toLowerCase()&&t.pword===f?r.push("/wallet"):window.alert("Incorrect details - please try again!")},className:"details"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",name:"email",value:b,onChange:function(e){return E(e.target.value)}}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",name:"password",onChange:function(e){return g(e.target.value)}}),l.a.createElement("button",null,"Login"),l.a.createElement("span",{className:"signup"},l.a.createElement(s.b,{to:"/signup"},"Sign up"))))},F=function(e){var a=e.user,t=e.setUser,n=e.allUsers,c=Object(i.f)();return l.a.createElement("main",{className:"login"},l.a.createElement("section",null,l.a.createElement("button",{onClick:function(){return c.push("/bank")}},l.a.createElement(p.a,{icon:d.a})),l.a.createElement("p",null,"Sign up")),l.a.createElement(B,{setUser:t,user:a,allUsers:n,btnName:"Sign Up"}))},T=function(e){var a=e.transactions,t=e.name;return l.a.createElement("div",{className:"transactions"},l.a.createElement("header",null,l.a.createElement("h4",null,"Transactions"),l.a.createElement("h4",null,"Amount")),l.a.createElement("main",null,a?a.map((function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("p",null,e.date),l.a.createElement("p",null,function(e){switch(t){case"loans":return e.minus?"Loan taken - Wallet Credited":"Thanks for payment";case"savings":return e.minus?"Debit to Wallet":"Deposit from Wallet";default:return e.transName.charAt(0).toUpperCase()+e.transName.slice(1)}}(e)),l.a.createElement("span",null,function(e){return e.plus?l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{icon:d.c,className:"added"}),l.a.createElement("p",null,"\xa3",e.plus.toFixed(2))):l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{icon:d.b,className:"minus"}),l.a.createElement("p",null,"\xa3",e.minus.toFixed(2)))}(e)))})):l.a.createElement(l.a.Fragment,null)))},L=function(e){var a,t=e.user,n=0,c=0;if(void 0!==t.balance){var r=((a=Number(t.balance))-(n=Math.trunc(a))).toFixed(2);c=r.slice(r.length-2)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"account"},l.a.createElement("div",null,l.a.createElement("section",{className:"acc_wallet"},l.a.createElement("h3",{className:"acc_total"},"Balance"),l.a.createElement("span",{className:"acc_balance"},l.a.createElement("p",null,n,".",c))),l.a.createElement("section",null,l.a.createElement("p",null,w),l.a.createElement("h3",null,"Account holder:"),l.a.createElement("p",null,t.firstName," ",t.lastName)))),t.transactions?l.a.createElement(T,{transactions:t.transactions,name:"wallet"}):l.a.createElement(l.a.Fragment,null))},P=function(e){var a=e.name,t=e.details,c=e.user,r=e.setDetails,s=e.setUser,i=e.bal,u=e.transactions,m=e.blockBtns,p=Object(n.useState)(0),d=Object(o.a)(p,2),g=d[0],h=d[1],v=Object(n.useState)(""),N=Object(o.a)(v,2),O=N[0],j=N[1];Object(n.useEffect)((function(){setTimeout((function(){j("")}),5e3)}),[O]);var A=function(){var e;s(Object(E.a)(Object(E.a)({},c),{},(e={balance:c.balance-g},Object(f.a)(e,"".concat(a,"Bal"),i+g),Object(f.a)(e,"transactions",[].concat(Object(b.a)(c.transactions),[{transName:a,minus:g,date:w}])),Object(f.a)(e,"".concat(a,"Tran"),[].concat(Object(b.a)(u),[{transName:a,plus:g,date:w}])),e))),U(c)},k=function(){var e;s(Object(E.a)(Object(E.a)({},c),{},(e={balance:c.balance+g},Object(f.a)(e,"".concat(a,"Bal"),i-g),Object(f.a)(e,"transactions",[].concat(Object(b.a)(c.transactions),[{transName:a,plus:g,date:w}])),Object(f.a)(e,"".concat(a,"Tran"),[].concat(Object(b.a)(u),[{transName:a,minus:g,date:w}])),e))),U(c)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"toggle"},l.a.createElement("section",null,l.a.createElement("p",null,"\xa3"),l.a.createElement("input",{type:"number",min:0,step:.1,onChange:function(e){return h(+parseFloat(e.target.value).toFixed(2))}})),l.a.createElement("button",{className:"transfer",disabled:m,onClick:function(e){return function(e){console.log(t.type),e.preventDefault(),g>0?("savings"===a&&"out"===t.type?c.savingsBal-g<0?j("Not enough money in savings!"):k():"savings"===a&&"in"===t.type?A():"loans"===a&&"out"===t.type?k():"loans"===a&&"in"===t.type&&(c.loansBal+g>0?j("Amount exceeds loan value!"):A()),""!==O&&r(Object(E.a)(Object(E.a)({},t),{},{state:!1}))):j("Please enter a number above 0")}(e)}},"Transfer")),l.a.createElement("h3",{className:"err"},O))},M=function(e){var a=e.divColour,t=e.user,c=e.setUser,r=e.balance,s=e.transactions,i=e.btn1,u=e.btn2,m=e.blockBtns,b=Object(n.useState)({state:!1,type:""}),p=Object(o.a)(b,2),d=p[0],f=p[1];return Object(n.useEffect)((function(){var e;void 0===(e=r)||parseFloat(e).toFixed(2)}),[r]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"account"},l.a.createElement("div",null,l.a.createElement("section",{className:a},l.a.createElement("h3",{className:"acc_total"},"Balance"),l.a.createElement("span",{className:"acc_balance"},l.a.createElement("p",{className:"acc_pounds"},r))),l.a.createElement("section",null,l.a.createElement("button",{className:i,disabled:m,onClick:function(){return f(Object(E.a)(Object(E.a)({},d),{},{state:!d.state,type:"in"}))}},i),l.a.createElement("button",{className:u,disabled:m,onClick:function(){return f(Object(E.a)(Object(E.a)({},d),{},{state:!d.state,type:"out"}))}},u))),d.state?l.a.createElement(P,{name:a,details:d,user:t,setDetails:f,setUser:c,bal:r,transactions:s,blockBtns:m}):l.a.createElement(l.a.Fragment,null)),l.a.createElement(T,{transactions:s,name:a}))},D=function(){var e=Object(n.useState)({id:1,firstName:"Rosa",lastName:"Linda",email:"rl@gmail.com",pword:"rosa",balance:300,savingsBal:50.25,loansBal:45,transactions:[{transName:"Marks and Spencers",minus:5.1,date:"01.12.2020"},{transName:"Aldi",minus:20.5,date:"12.12.2020"},{transName:"savings",plus:.7,date:"11/11/2021"}],savingsTran:[{transName:"savings",minus:6.5,date:"19.12.2020"}],loansTran:[{transName:"loans",minus:100,date:"08/11/2021"}]}),a=Object(o.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)([]),s=Object(o.a)(r,2),u=s[0],m=s[1],b=Object(n.useState)(!1),E=Object(o.a)(b,2),p=E[0],d=E[1];return Object(n.useEffect)((function(){fetch("http://localhost:8080/users").then((function(e){return e.json()})).then((function(e){return m(e)})).catch((function(e){return console.log(e)}))}),[t]),l.a.createElement("div",{className:"App"},l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/bank"},l.a.createElement(C,null),l.a.createElement(x,{setUser:c,user:t,allUsers:u})),l.a.createElement(i.a,{path:"/signup"},l.a.createElement(C,null),l.a.createElement(F,{user:t,setUser:c,allUsers:u})),l.a.createElement(i.a,{path:"/wallet"},l.a.createElement(S,{user:t,setUser:c,blockBtns:p,setBlockBtns:d,allUsers:u,setAllUsers:m}),l.a.createElement(L,{user:t})),l.a.createElement(i.a,{path:"/savings"},l.a.createElement(S,{user:t,setUser:c,blockBtns:p,setBlockBtns:d,allUsers:u,setAllUsers:m}),l.a.createElement(M,{divColour:"savings",user:t,setUser:c,balance:t.savingsBal,transactions:t.savingsTran,btn1:"PAY IN",btn2:"PAY OUT",blockBtns:p})),l.a.createElement(i.a,{path:"/loans"},l.a.createElement(S,{user:t,setUser:c,blockBtns:p,setBlockBtns:d,allUsers:u,setAllUsers:m}),l.a.createElement(M,{divColour:"loans",user:t,setUser:c,balance:t.loansBal,transactions:t.loansTran,btn1:"PAY BACK",btn2:"TAKE LOAN",blockBtns:p}))))};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,null,l.a.createElement(D,null))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.d2285115.chunk.js.map