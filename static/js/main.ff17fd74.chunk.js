(this.webpackJsonpbank=this.webpackJsonpbank||[]).push([[0],{32:function(e,t,s){},33:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){},51:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),c=s(25),r=s.n(c),l=s(10),i=(s(32),s(6)),o=s(4),j=(s(33),s(34),s(35),s(36),s(37),s(38),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAlCAYAAAAeJYohAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMvSURBVHgB5ZlfUtpQFMa/cwWmD9jBFZQdiA+dUXwwXYG4AmNdQO0KhBVUV2C6guIKpC/qTB90B9IVwFQcHcGcnpNECuWGAtPOXNPfS0jOTciXc/+dc4D/DJqlUcf3Skt4qC0Zs8UMTy6Viyfn1PHXy3kyN3LeBfgajNM+uLkSXLYxI8xcksOBxXRNRE0sgDzTk4NnMR1NFaxCC+bxg4jUFyqN2n4TPA4h6IdhYxbh8nJlOdxYTIEI3sMCyDPrcji0mMom7aaO/7ZSoMcrEas3lzDXP8KXD3HV8zcO4BhWwff7m7t5yp+xfBEsTglEn3p+1YdDTAhWzz6FHCDFqxyP11Z89qpLxDrO2ra2IfPnPgoLjcN/RW70RMdkgcwXtjSMhDKOBygcrQStrl5Ljjv6+4e/UTPiUSS9QobC8evgwrkuPSY4b8yhvGjZ0q494PDdtElIxDVlkmvl6fFMnnG6HJzX4SBDwepdnWwsbdr9P4h9JvH4GhxmOIbVu9YWjMY866rrRIKnebcYnAfIEJHgvH1XojPPMTJGJJiN2babBy1kjEgwMZUttm4x+HaNjJFMWlyZNHHmxCqm41crNoN4vY0MksshLNm21CHwHQ4gkY86pDLnbatphhzcpwZ7qLcQqeEhpQQELx2TbuL5YuAXQmqXZpArglPDzynovqJmM+QG8rC8xSCufwMHkDSPLo9zLZFJ2sgq2GgQbzOE4BVkEJOEdO0JA9EqMki8l6bJLqP5LN6vOtGt/ybxXjrkrzbj3RPvIGNEgjV5brUStpExIsFxRuM5EzkKebf+uocMMdx4yFTesDYgc6IVCGSEoeDl4LJl87JOXpqJnFX03fvq4f3e5i4cZWxr2WfWWo5tXY7KLlHuKwW19fY2NEVbfwIHKhwOMiY4GsspXTv2tLlRUbd+ta7X1Ov6W6/FRTXyhu1FuIuiJ4KHYnBxJC/bSL+FPKLncO2hFP/+JXQUFe18bUmJqgbMH2Hv3jOjH861NG9qeKielorDmhbEMDfcYqlWuFhumZrxSCoOvkxI9RzMgXTfLaSnW9paU5KwoxnP+BniPpmtddLqSXn1Ja3TPwE4y0qYnfQf8wAAAABJRU5ErkJggg=="),b=s(12),u=s(3),d=s(13),O=s(14),h=s(11),m=s(18),x=s.n(m),f=s(23),p=new Date,g=p.getDate(),v=p.getMonth()+1,N=p.getFullYear();g<10&&(g="0".concat(g)),v<10&&(v="0".concat(v));var A="".concat(g,"/").concat(v,"/").concat(N),w=function(){var e=Object(f.a)(x.a.mark((function e(t,s,n){var a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(u.a)(Object(u.a)({},t),{},{balance:100,savingsBal:0,loansBal:0,transactions:[],savingTran:[],loansTran:[]}),e.next=3,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)};case 3:return c=e.sent,e.next=6,fetch("http://localhost:8080/users",c).then((function(e){return e.ok?e.json():console.log("Oops we couldn't update that!")})).then((function(e){return n([].concat(Object(b.a)(s),[a]))})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,s,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(x.a.mark((function e(t){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)},e.next=3,fetch("http://localhost:8080/users/".concat(t.id),s).then((function(e){return e.ok?e.json():console.log("Oops we couldn't update that!")})).catch((function(e){return console.log(e,s)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=s(0),B=function(e){var t=e.user,s=e.setUser,a=e.allUsers,c=void 0===a?[]:a,r=e.setAllUsers,l=e.btnName,j=Object(n.useState)({}),b=Object(i.a)(j,2),d=b[0],O=b[1],m=Object(o.f)(),x=function(e){console.log(d);var t=e.target.name,s=e.target.value;O(Object(u.a)(Object(u.a)({},d),{},Object(h.a)({id:parseInt(c.length)+1},t,s)))},f=function(e,n){e.preventDefault();var a=Object.values(d);if(a.length<6||a.some((function(e){return""===e})))window.alert("You left some fields blank please try again");else if(d.pword!==d.pwordmatch)window.alert("You passwords do not match please try again");else if(6===a.length&&a.every((function(e){return""!==e}))){var l=c.find((function(e){return e.email.toLowerCase()===d.email.toLowerCase()}));"Save"===n?function(e){void 0===e?window.alert("Thanks ".concat(d.firstName,", for trying this website")):(s(Object(u.a)(Object(u.a)({},t),{},{id:e.id,firstName:d.firstName,lastName:d.lastName,pword:e.pword})),k(t),window.alert("User updated, thanks ".concat(d.firstName," ").concat(d.lastName)))}(l):function(e){if(void 0===e)window.alert("Hello ".concat(d.firstName,", please go back and login"));else if(e)window.alert("Email entered is currently in use, please re-enter and try again");else{var t=Object.fromEntries(Object.entries(d).slice(0,5));w(t,c,r),m.push("/bank")}}(l)}};return Object(U.jsxs)("form",{className:"form",children:[Object(U.jsx)("label",{htmlFor:"firstName",children:"First name"}),Object(U.jsx)("input",{type:"text",name:"firstName",required:!0,onChange:function(e){return x(e)}}),Object(U.jsx)("label",{htmlFor:"lastName",children:"Last name"}),Object(U.jsx)("input",{type:"text",name:"lastName",required:!0,onChange:function(e){return x(e)}}),Object(U.jsx)("label",{htmlFor:"email",children:"Save"===l?"Email (for user varification only)":"Email"}),Object(U.jsx)("input",{type:"email",name:"email",required:!0,onChange:function(e){return x(e)}}),Object(U.jsx)("label",{htmlFor:"password",children:"Password"}),Object(U.jsx)("input",{type:"password",name:"pword",required:!0,onChange:function(e){return x(e)}}),Object(U.jsx)("label",{htmlFor:"password",children:"Confirm Password"}),Object(U.jsx)("input",{type:"password",name:"pwordmatch",required:!0,onChange:function(e){return x(e)}}),Object(U.jsx)("button",{id:"su-login",onClick:function(e){return f(e,l)},children:l})]})},y=function(e){var t=e.setMenu,s=e.user,a=e.setUser,c=e.allUsers,r=e.setAllUsers,l=e.blockBtns,o=e.setBlockBtns,j=Object(n.useState)(!1),h=Object(i.a)(j,2),m=h[0],x=h[1];Object(n.useEffect)((function(){s.balance%1===0?x(!0):x(!1)}),[s]);return Object(U.jsxs)("div",{className:"settings",children:[Object(U.jsxs)("div",{className:"settingsTitle",children:[Object(U.jsx)("button",{onClick:function(){return t(!1)},children:Object(U.jsx)(d.a,{icon:O.a})}),Object(U.jsx)("h1",{children:"Settings"})]}),Object(U.jsxs)("div",{className:"block",children:[Object(U.jsx)("h3",{children:"Block account"}),Object(U.jsxs)("label",{className:"switch",children:[Object(U.jsx)("input",{type:"checkbox",onChange:function(){return o(!l)}}),Object(U.jsx)("span",{className:"slider"})]})]}),Object(U.jsxs)("div",{className:"rounds",children:[Object(U.jsx)("h3",{children:"Round up wallet into Savings"}),Object(U.jsxs)("label",{className:"switch",children:[Object(U.jsx)("input",{type:"checkbox",onChange:function(){return function(){var e=+(s.balance%1).toFixed(2);e>0&&(a(Object(u.a)(Object(u.a)({},s),{},{balance:s.balance-=e,savingsBal:s.savingsBal+=e,transactions:[].concat(Object(b.a)(s.transactions),[{transName:"savings",minus:e,date:A}]),savingsTran:[].concat(Object(b.a)(s.savingsTran),[{transName:"savings",plus:e,date:A}])})),k(s))}()},checked:m}),Object(U.jsx)("span",{className:"slider round",disabled:m})]})]}),Object(U.jsx)("h4",{children:"User"}),Object(U.jsx)(B,{user:s,setUser:a,allUsers:c,setAllUsers:r,btnName:"Save"})]})},S=function(e){var t,s=e.user,a=e.setUser,c=e.blockBtns,r=e.setBlockBtns,o=e.allUsers,b=e.setAllUsers,u=Object(n.useState)(!1),d=Object(i.a)(u,2),O=d[0],h=d[1];return O&&(t=Object(U.jsx)(y,{setMenu:h,user:s,setUser:a,blockBtns:c,setBlockBtns:r,allUsers:o,setAllUsers:b,onClick:function(){return h(!0)}})),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"header",children:[Object(U.jsx)("div",{children:Object(U.jsx)("img",{src:j,alt:"CH",className:"ch"})}),Object(U.jsxs)("ul",{children:[Object(U.jsx)("li",{children:Object(U.jsx)(l.b,{to:"/wallet",children:"WALLET"})}),Object(U.jsx)("li",{children:Object(U.jsx)(l.b,{to:"/savings",children:"SAVINGS"})}),Object(U.jsx)("li",{children:Object(U.jsx)(l.b,{to:"/loans",children:"LOANS"})}),Object(U.jsx)("li",{children:Object(U.jsx)("button",{onClick:function(){return h(!O)},children:"SETTINGS"})}),Object(U.jsx)("li",{children:Object(U.jsx)(l.b,{to:"/bank",children:"SIGN OUT"})})]})]}),t]})},C=function(){return Object(U.jsxs)("div",{className:"header",children:[Object(U.jsx)("div",{children:Object(U.jsx)("img",{src:j,alt:"CH",className:"ch"})}),Object(U.jsx)("div",{className:"txt",children:Object(U.jsx)("p",{children:"LOGIN / SIGN UP"})})]})},F=function(e){var t=e.setUser,s=e.user,a=e.allUsers,c=Object(o.f)(),r=Object(n.useState)(""),j=Object(i.a)(r,2),b=j[0],u=j[1],d=Object(n.useState)(""),O=Object(i.a)(d,2),h=O[0],m=O[1];Object(n.useEffect)((function(){var e=a.find((function(e){return e.email===b}));e||"user@gmail.com"!==b?e&&t(e):t({id:1,firstName:"Rosa",lastName:"Linda",email:"rl@gmail.com",pword:"rosa",balance:300,savingsBal:50.25,loansBal:45,transactions:[{transName:"Marks and Spencers",minus:5.1,date:"01.12.2020"},{transName:"Aldi",minus:20.5,date:"12.12.2020"},{transName:"savings",plus:.7,date:"11/11/2021"}],savingsTran:[{transName:"savings",minus:6.5,date:"19.12.2020"}],loansTran:[{transName:"loans",minus:100,date:"08/11/2021"}]})}),[b,a]);return Object(U.jsxs)("div",{className:"login",children:[Object(U.jsx)("section",{children:Object(U.jsx)("p",{children:"Login"})}),Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(b,h),"user@gmail.com"===b||s.email===b.toLowerCase()&&s.pword===h?c.push("/wallet"):window.alert("Incorrect details - please try again!")},children:[Object(U.jsx)("label",{htmlFor:"email",children:"Email"}),Object(U.jsx)("input",{type:"email",name:"email",onChange:function(e){return u(e.target.value)}}),Object(U.jsx)("label",{htmlFor:"password",children:"Password"}),Object(U.jsx)("input",{type:"password",name:"password",onChange:function(e){return m(e.target.value)}}),Object(U.jsx)("button",{children:"Login"}),Object(U.jsx)("span",{className:"signup",children:Object(U.jsx)(l.b,{to:"/signup",children:"Sign up"})})]})]})},T=function(e){var t=e.user,s=e.setUser,n=e.allUsers,a=Object(o.f)();return Object(U.jsxs)("div",{className:"login",children:[Object(U.jsxs)("section",{children:[Object(U.jsx)("button",{onClick:function(){return a.push("/bank")},children:Object(U.jsx)(d.a,{icon:O.a})}),Object(U.jsx)("p",{children:"Sign up"})]}),Object(U.jsx)(B,{setUser:s,user:t,allUsers:n,btnName:"Sign Up"})]})},E=function(e){var t=e.transactions,s=e.name,n=function(e){switch(s){case"loans":return e.minus?"Loan taken - Wallet Credited":"Thanks for payment";case"savings":return e.minus?"Debit to Wallet":"Deposit from Wallet";default:return e.transName.charAt(0).toUpperCase()+e.transName.slice(1)}},a=function(e){return e.plus?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(d.a,{icon:O.c,className:"added"}),Object(U.jsxs)("h5",{children:["\xa3",e.plus.toFixed(2)]})]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(d.a,{icon:O.b,className:"minus"}),Object(U.jsxs)("h5",{children:["\xa3",e.minus.toFixed(2)]})]})};return Object(U.jsxs)("div",{className:"transactions",children:[Object(U.jsxs)("header",{children:[Object(U.jsx)("h2",{children:"Transactions"}),Object(U.jsx)("h2",{children:"Amount"})]}),Object(U.jsx)("main",{children:t?t.map((function(e,t){return Object(U.jsxs)("div",{className:"transaction",children:[Object(U.jsx)("p",{className:"today",children:e.date}),Object(U.jsx)("h5",{className:"companyname",children:n(e)}),Object(U.jsx)("div",{className:"paymentinfo",children:a(e)})]},t)})):Object(U.jsx)(U.Fragment,{})})]})},L=function(e){var t,s=e.user,n=0,a=0;if(void 0!==s.balance){var c=((t=Number(s.balance))-(n=Math.trunc(t))).toFixed(2);a=c.slice(c.length-2)}return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"account",children:Object(U.jsxs)("div",{children:[Object(U.jsxs)("aside",{className:"acc_wallet",children:[Object(U.jsx)("h3",{className:"acc_total",children:"Balance"}),Object(U.jsxs)("span",{className:"acc_balance",children:[Object(U.jsxs)("h1",{className:"acc_pounds",children:[n,"."]}),Object(U.jsx)("h3",{className:"acc_pence",children:a})]})]}),Object(U.jsxs)("aside",{children:[Object(U.jsx)("h4",{children:A}),Object(U.jsx)("h1",{children:"Account holder:"}),Object(U.jsxs)("h3",{children:[s.firstName," ",s.lastName]})]})]})}),s.transactions?Object(U.jsx)(E,{transactions:s.transactions,name:"wallet"}):Object(U.jsx)(U.Fragment,{})]})},P=function(e){var t=e.name,s=e.details,a=e.user,c=e.setDetails,r=e.setUser,l=e.bal,o=e.transactions,j=e.blockBtns,d=Object(n.useState)(0),O=Object(i.a)(d,2),m=O[0],x=O[1],f=Object(n.useState)(""),p=Object(i.a)(f,2),g=p[0],v=p[1];Object(n.useEffect)((function(){setTimeout((function(){v("")}),5e3)}),[g]);var N=function(){var e;r(Object(u.a)(Object(u.a)({},a),{},(e={balance:a.balance-m},Object(h.a)(e,"".concat(t,"Bal"),l+m),Object(h.a)(e,"transactions",[].concat(Object(b.a)(a.transactions),[{transName:t,minus:m,date:A}])),Object(h.a)(e,"".concat(t,"Tran"),[].concat(Object(b.a)(o),[{transName:t,plus:m,date:A}])),e))),k(a)},w=function(){var e;r(Object(u.a)(Object(u.a)({},a),{},(e={balance:a.balance+m},Object(h.a)(e,"".concat(t,"Bal"),l-m),Object(h.a)(e,"transactions",[].concat(Object(b.a)(a.transactions),[{transName:t,plus:m,date:A}])),Object(h.a)(e,"".concat(t,"Tran"),[].concat(Object(b.a)(o),[{transName:t,minus:m,date:A}])),e))),k(a)};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("form",{className:"toggle",children:[Object(U.jsxs)("section",{children:[Object(U.jsx)("p",{children:"\xa3"}),Object(U.jsx)("input",{type:"number",min:0,step:.1,onChange:function(e){return x(+parseFloat(e.target.value).toFixed(2))}})]}),Object(U.jsx)("button",{className:"transfer",disabled:j,onClick:function(e){return function(e){console.log(s.type),e.preventDefault(),m>0?("savings"===t&&"out"===s.type?a.savingsBal-m<0?v("Not enough money in savings!"):w():"savings"===t&&"in"===s.type?N():"loans"===t&&"out"===s.type?w():"loans"===t&&"in"===s.type&&(a.loansBal+m>0?v("Amount exceeds loan value!"):N()),""!==g&&c(Object(u.a)(Object(u.a)({},s),{},{state:!1}))):v("Please enter a number above 0")}(e)},children:"Transfer"})]}),Object(U.jsx)("h3",{className:"err",children:g})]})},M=function(e){var t=e.divColour,s=e.user,a=e.setUser,c=e.balance,r=e.transactions,l=e.btn1,o=e.btn2,j=e.blockBtns,b=Object(n.useState)({state:!1,type:""}),d=Object(i.a)(b,2),O=d[0],h=d[1];return Object(n.useEffect)((function(){var e;void 0===(e=c)||parseFloat(e).toFixed(2)}),[c]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"account",children:[Object(U.jsxs)("div",{children:[Object(U.jsxs)("aside",{className:t,children:[Object(U.jsx)("h3",{className:"acc_total",children:"Balance"}),Object(U.jsx)("span",{className:"acc_balance",children:Object(U.jsx)("h1",{className:"acc_pounds",children:c})})]}),Object(U.jsxs)("aside",{children:[Object(U.jsx)("button",{className:l,disabled:j,onClick:function(){return h(Object(u.a)(Object(u.a)({},O),{},{state:!O.state,type:"in"}))},children:l}),Object(U.jsx)("button",{className:o,disabled:j,onClick:function(){return h(Object(u.a)(Object(u.a)({},O),{},{state:!O.state,type:"out"}))},children:o})]})]}),O.state?Object(U.jsx)(P,{name:t,details:O,user:s,setDetails:h,setUser:a,bal:c,transactions:r,blockBtns:j}):Object(U.jsx)(U.Fragment,{})]}),Object(U.jsx)(E,{transactions:r,name:t})]})},D=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),s=t[0],a=t[1],c=Object(n.useState)([]),r=Object(i.a)(c,2),l=r[0],j=r[1],b=Object(n.useState)(!1),u=Object(i.a)(b,2),d=u[0],O=u[1];return Object(n.useEffect)((function(){fetch("http://localhost:8080/users").then((function(e){return e.json()})).then((function(e){return j(e)})).catch((function(e){return console.log(e)}))}),[s]),Object(U.jsx)("div",{className:"App",children:Object(U.jsxs)(o.c,{children:[Object(U.jsxs)(o.a,{exact:!0,path:"/bank",children:[Object(U.jsx)(C,{}),Object(U.jsx)(F,{setUser:a,user:s,allUsers:l})]}),Object(U.jsxs)(o.a,{path:"/signup",children:[Object(U.jsx)(C,{}),Object(U.jsx)(T,{user:s,setUser:a,allUsers:l})]}),Object(U.jsxs)(o.a,{path:"/wallet",children:[Object(U.jsx)(S,{user:s,setUser:a,blockBtns:d,setBlockBtns:O,allUsers:l,setAllUsers:j}),Object(U.jsx)(L,{user:s})]}),Object(U.jsxs)(o.a,{path:"/savings",children:[Object(U.jsx)(S,{user:s,setUser:a,blockBtns:d,setBlockBtns:O,allUsers:l,setAllUsers:j}),Object(U.jsx)(M,{divColour:"savings",user:s,setUser:a,balance:s.savingsBal,transactions:s.savingsTran,btn1:"PAY IN",btn2:"PAY OUT",blockBtns:d})]}),Object(U.jsxs)(o.a,{path:"/loans",children:[Object(U.jsx)(S,{user:s,setUser:a,blockBtns:d,setBlockBtns:O,allUsers:l,setAllUsers:j}),Object(U.jsx)(M,{divColour:"loans",user:s,setUser:a,balance:s.loansBal,transactions:s.loansTran,btn1:"PAY BACK",btn2:"TAKE LOAN",blockBtns:d})]})]})})};r.a.render(Object(U.jsx)(a.a.StrictMode,{children:Object(U.jsx)(l.a,{children:Object(U.jsx)(D,{})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.ff17fd74.chunk.js.map